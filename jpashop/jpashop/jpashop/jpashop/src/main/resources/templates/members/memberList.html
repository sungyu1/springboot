<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<title>Editorial by HTML5 UP</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<link rel="stylesheet" th:href="@{/css/main.css}" />
<link rel="stylesheet" th:href="@{/css/members.css}">
<body>
<div class="container">
  <div class="table-wrapper"><!-- 가로 스크롤 안전 -->
    <table class="table table-striped">
      <thead>
      <tr>
        <th>ID</th>
        <th>이름</th>
        <th>이메일</th>
        <th>부서</th>
        <th>직무유형</th>
        <th>근무상태</th>
        <th>전화번호</th>
        <th>주소</th>
        <th>우편번호</th>
        <th>서명</th>
      </tr>
      </thead>

      <tbody>
      <tr th:each="member : ${members}">
        <td th:text="${member.id}"></td>
        <td th:text="${member.name}"></td>
        <td th:text="${member.email}"></td>

        <!-- 부서코드 해석 + 배지 -->
        <td th:switch="${member.deptCode}">
          <span class="dept-badge" th:case="'im'">내과</span>
          <span class="dept-badge" th:case="'gs'">외과</span>
          <span class="dept-badge" th:case="'ns'">신경외과</span>
          <span class="dept-badge" th:case="'os'">정형외과</span>
          <span class="dept-badge" th:case="'cs'">흉부외과</span>
          <span class="dept-badge" th:case="'ms'">진료지원센터</span>
          <span class="dept-badge" th:case="*">기타</span>
        </td>

        <!-- 직무유형 + 배지 -->
        <td th:switch="${member.jobType}">
          <span class="job-badge" th:case="1">사원</span>
          <span class="job-badge" th:case="2">부서장</span>
          <span class="job-badge" th:case="3">원장</span>
          <span class="job-badge" th:case="4">진료지원</span>
          <span class="job-badge" th:case="5">센터장</span>
          <span class="job-badge" th:case="*">기타</span>
        </td>

        <!-- 근무상태 + 배지(색상 분기) -->
        <td th:switch="${member.useFlag}">
          <span class="status-badge status-active" th:case="1">근무</span>
          <span class="status-badge status-inactive" th:case="0">퇴사</span>
          <span class="status-badge" th:case="*">-</span>
        </td>

        <td th:text="${member.phone}"></td>
        <td th:text="${member.address?.city}"></td>
        <td th:text="${member.address?.zipcode}"></td>
        <td>
          <img class="signature-img"
               th:if="${member.signatureImage}"
               th:src="${member.signatureImage}"
               alt="서명">
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <div th:replace="~{fragments/sidebar :: #sidebar}" /></div>
</div> <!-- /container -->
</body>
</html>
